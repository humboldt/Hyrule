$(document).on('turbolinks:load', function() {

  var timeToDisplay = 6000;
  var slideshow = $('.slideshow');
  var urls = [
    "url(<%= asset_url("main.jpg") %>)",
    "url(<%= asset_url("main01.jpg") %>)", "url(<%= asset_url("main02.jpg") %>)",
    "url(<%= asset_url("main03.jpg") %>)", "url(<%= asset_url("main04.jpg") %>)"
    ];

    var transition = function() {
        index = Math.floor((Math.random() * 4) + 1);
        var url = urls[index];
        slideshow.css('background', url + 'no-repeat bottom center scroll');
    };

    var run = function() {
      console.log(slideshow)
        transition();
        slideshow.fadeIn(2000, function() {
            setTimeout(function() {
                slideshow.fadeOut(4000, run);
            }, timeToDisplay);
        });
    }

    run();

}); //$ready function ending
